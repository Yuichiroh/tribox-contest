@*
 * This template takes a single argument, a String containing a
 * message to display.
 *@
@(message: String, events:List[Event])

<!DOCTYPE html>
<html lang="ja" ng-app="contestApp">
    <head>
        <meta charset="UTF-8">
        <title>tribox Contest</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
        <script src="@routes.Assets.versioned("javascripts/hello.js")" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
<script>
var app = angular.module('contestApp', []);
@if(events != null){
    app.controller('EventListCtrl', function($scope) {
        $scope.events = [
            @for(event:Event <- events){
                {'id': @event.id, 'tag': '@event.tag', 'name': '@event.name'},
            }
        ];
    });
}
</script>
    </head>
    <body ng-controller="EventListCtrl">
        <h1>tribox Contest</h1>
        <p>@message</p>

        @if(events != null){
            <table>
                <tr><th>tag</th><th>name</th></tr>
                @for(event:Event <- events){
                    <tr><td>@event.tag</td><td>@event.name</td></tr>
                }
            </table>
        }

        <p>開催中のコンテスト: {{events.length}} events.</p>
        <ul>
            <li ng-repeat="event in events">
                {{event.id}} : {{event.tag}} : {{event.name}}
            </li>
        </ul>

    </body>
</html>
